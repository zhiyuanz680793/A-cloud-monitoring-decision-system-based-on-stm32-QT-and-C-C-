# STM32 + QT 云监控决策系统

基于 STM32 单片机和 Qt 的嵌入式温度风扇控制及云端监控系统

---

## 项目简介

本项目通过 STM32 采集热敏电阻和电位器数据，使用 DMA 方式进行 ADC 采样，结合 OLED 实时显示和按键手动控制风扇转速；同时通过USART协议串口与上位机 Qt 软件通信，实现数据云端监控和决策控制。

---

## 主要功能

- STM32 端  
  - ADC 多次采样平均，热敏电阻温度检测  
  - DMA 自动传输 ADC 数据  
  - OLED 显示温度、电压、风扇转速和模式状态  
  - 按键切换手动/自动风扇控制模式  
  - PWM 控制风扇转速  
  - 串口数据收发与上位机通信

- 上位机 Qt 软件  
  - 串口数据接收与显示  
  - 数据上传云端和实时监控  
    
---

## 硬件环境

| 设备           | 连接引脚            | 说明               |
| -------------- | ------------------- | ------------------ |
| STM32F103C8T6  | GPIOA0（ADC通道0）  | 热敏电阻输入       |
| OLED 显示屏    | I2C / SPI           | 实时数据显示       |
| 按键           | GPIO                | 模式切换控制       |
| 风扇电机       | PWM 输出            | 风扇转速控制       |
| USART          | PA9 (TX), PA10 (RX) | 串口通信           |

---

## 软件环境

- Keil MDK-ARM 5  
- STM32 标准外设库  
- Qt 5.x (用于上位机界面)  

---

---

## 代码结构
```
STM32_Firmware/
├── Core/
│ ├── main.c # 主程序入口，系统初始化和主循环逻辑
│ ├── adc.c # ADC 采集及 DMA 配置与读取
│ ├── motor.c # 风扇电机控制（PWM驱动、转速设置）
│ ├── oled.c # OLED 显示驱动与界面刷新
│ ├── key.c # 按键扫描与状态管理
│ ├── serial.c # 串口通信初始化及收发函数
│ └── control.c # 风扇转速控制算法（自动/手动模式切换）
├── Inc/
│ ├── adc.h # ADC 和DMA 模块头文件
│ ├── motor.h # 风扇控制相关头文件
│ ├── oled.h # OLED 驱动相关头文件
│ ├── key.h # 按键模块头文件
│ ├── serial.h # 串口通信模块头文件
│ └── control.h # 控制逻辑头文件
├── Qt_Client/ # Qt 上位机项目文件夹
│ ├── main.cpp # Qt 主程序入口
│ ├── serialhandler.cpp # 串口通信处理
│ ├── ui/ # 界面文件与资源
│ └── ... # 其他上位机代码
├── sever # 服务器的源代码
└── README.md # 项目说明文档
```


